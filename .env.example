# =============================================================================
# IAC Agent Engine - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in the values
# Do NOT commit the .env file to version control

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
# Redis connection settings for caching and message queuing
REDIS_PORT=6379
REDIS_PASSWORD=redis_secure_password_123

# =============================================================================
# MINIO CONFIGURATION
# =============================================================================
# MinIO S3-compatible object storage for Terraform state files
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin123
MINIO_REGION=us-east-1
MINIO_BUCKET_PREFIX=terraform-state

# =============================================================================
# SERVICE PORTS
# =============================================================================
# Port mappings for each service
TERRAFORM_AGENT_PORT=8080
ANSIBLE_AGENT_PORT=8081
IAC_MANAGER_PORT=8003

# =============================================================================
# TERRAFORM AGENT CONFIGURATION
# =============================================================================
# Terraform agent service settings
TERRAFORM_LOG_LEVEL=info
TERRAFORM_DEBUG=false
TERRAFORM_REDIS_DB=0

# =============================================================================
# ANSIBLE AGENT CONFIGURATION
# =============================================================================
# Ansible agent service settings
ANSIBLE_LOG_LEVEL=INFO
ANSIBLE_DEBUG=false
MAX_CONCURRENT_PLAYBOOKS=10
PLAYBOOK_TIMEOUT=3600
INVENTORY_CACHE_TTL=300

# =============================================================================
# IAC AGENT MANAGER CONFIGURATION
# =============================================================================
# IAC agent manager orchestration settings
IAC_MANAGER_LOG_LEVEL=INFO
IAC_MANAGER_DEBUG=false
IAC_MANAGER_REDIS_DB=3

# Security Configuration
REQUIRE_AUTH=true
API_KEY_HEADER=X-API-Key
ALLOWED_ORIGINS=

# Resource Limits
MAX_REQUEST_SIZE=104857600
RATE_LIMIT=1000
MAX_STATE_SIZE=524288000
MAX_VERSIONS=100
LOCK_TIMEOUT=1800

# State Management
VERSION_CLEANUP=true
STATE_VALIDATION=true

# Backup Configuration
BACKUP_RETENTION_DAYS=30
MAX_BACKUPS=100
VERIFY_BACKUPS=true
BACKUP_COMPRESSION=true
SCHEDULED_BACKUP=true

# Observability
METRICS_ENABLED=true
HEALTH_CHECK_ENABLED=true
AUDIT_LOGGING=true
PERFORMANCE_TRACKING=true
STRUCTURED_LOGGING=true

# =============================================================================
# VAULT CONFIGURATION (OPTIONAL)
# =============================================================================
# HashiCorp Vault for secrets management and encryption
# Leave empty if not using Vault
VAULT_ADDR=http://vault:8200
VAULT_TOKEN=
VAULT_ROLE_ID=
VAULT_SECRET_ID=
VAULT_TRANSIT_PATH=transit
VAULT_KEY_NAME=terraform-state

# =============================================================================
# AZURE CREDENTIALS
# =============================================================================
# Azure cloud provider credentials for Terraform and Ansible
# Service Principal credentials
ARM_CLIENT_ID=
ARM_CLIENT_SECRET=
ARM_SUBSCRIPTION_ID=
ARM_TENANT_ID=

# Ansible-specific Azure credentials (usually same as ARM_*)
AZURE_CLIENT_ID=
AZURE_SECRET=
AZURE_SUBSCRIPTION_ID=
AZURE_TENANT=

# =============================================================================
# AWS CREDENTIALS
# =============================================================================
# AWS cloud provider credentials for Terraform and Ansible
# IAM user or role credentials
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1

# =============================================================================
# GCP CREDENTIALS
# =============================================================================
# Google Cloud Platform credentials for Terraform
# Service account JSON key (as string or base64)
GOOGLE_CREDENTIALS=
GCP_PROJECT_ID=

# =============================================================================
# DEVELOPMENT/TESTING OVERRIDES
# =============================================================================
# Uncomment these for local development/testing

# Skip authentication for local testing (NOT for production!)
# REQUIRE_AUTH=false

# Enable verbose logging for debugging
# TERRAFORM_LOG_LEVEL=debug
# ANSIBLE_LOG_LEVEL=DEBUG
# IAC_MANAGER_LOG_LEVEL=DEBUG
# TERRAFORM_DEBUG=true
# ANSIBLE_DEBUG=true
# IAC_MANAGER_DEBUG=true
