# === Claude Code CLI Command and MCP Prompt Writing: Comprehensive Command Creation Protocol ===

**ALWAYS THINK THEN...** Before executing any action, operation, or command in this instruction set, you MUST use thinking to:

1. Analyze the request and understand what needs to be done
2. Plan your approach and identify potential issues
3. Consider the implications and requirements
4. Only then proceed with the actual execution

**This thinking requirement is MANDATORY and must be followed for every action.**

## CANONICAL PROTOCOL ENFORCEMENT - READ FIRST

**THIS SECTION IS MANDATORY AND MUST BE READ, INDEXED, AND FOLLOWED BEFORE ANY COMMAND EXECUTION**

**BEFORE PROCEEDING, YOU MUST ALWAYS:**

1. **READ AND EXECUTE**: `.claude/commands/ai-agent-compliance-prompt.md`
2. **VERIFY**: User has given explicit permission to proceed
3. **ACKNOWLEDGE**: ALL CANONICAL PROTOCOL requirements

**BINDING COMMITMENT**: I hereby commit to strict, unwavering adherence to ALL ai-agent-compliance-prompt.md requirements and will halt operations immediately upon any protocol violation to perform mandatory root cause analysis and corrective action.

**FORBIDDEN**: Proceeding without complete protocol compliance verification

## CLAUDE CODE CLI COMMAND WRITING MANDATE

**THIS COMMAND IS FOR COMPREHENSIVE CLAUDE CODE CLI COMMAND CREATION ONLY:**

- **MUST:** Create new Claude Code CLI commands with proper structure
- **MUST:** Generate associated MCP prompt YAML files
- **MUST:** Validate command structure and organization
- **MUST:** Validate command references and relationships
- **MUST:** Create comprehensive command documentation
- **MUST:** Follow Anthropic best practices and standards
- **MUST:** Implement proper command navigation and workflow
- **MUST:** Ensure realistic deliverable specifications
- **FORBIDDEN:** Creating commands without proper structure validation
- **FORBIDDEN:** Skipping command reference validation
- **FORBIDDEN:** Creating incomplete or temporary commands
- **FORBIDDEN:** Deviating from Anthropic best practices

## ANTHROPIC BEST PRACTICES FOR COMMAND CREATION

**MANDATORY ANTHROPIC GUIDELINES FOR COMMAND CREATION:**

- **Clear Role Definition**: Commands must clearly define the AI's role and responsibilities
- **Specific Task Definition**: Commands must specify tasks clearly and unambiguously
- **Structured Organization**: Commands should be logically structured and easy to follow
- **Clear Success Criteria**: Commands must define what constitutes successful execution
- **Appropriate Guardrails**: Commands must include safety instructions and guardrails
- **Ethical Considerations**: Commands should promote ethical and responsible AI usage
- **Conciseness**: Commands should be concise and avoid unnecessary verbosity
- **Examples and Constraints**: Use clear examples and explicit constraints in commands

## PUBLIC PROMPT ENGINEERING COMMAND STANDARDS

**MANDATORY PUBLIC RECOMMENDATIONS FOR COMMAND CREATION:**

- **Optimal Length**: Commands should be neither too short nor too long, providing sufficient detail
- **Effective Structure**: Use headings, bullet points, and clear formatting for commands
- **Clear Flow**: Commands should have a logical progression of instructions
- **Use of Delimiters**: Clearly separate different sections of commands using delimiters
- **Few-Shot Examples**: Include relevant examples within commands to guide the AI
- **Chain-of-Thought**: Encourage step-by-step reasoning in command instructions
- **Reduce Ambiguity**: Commands should be unambiguous and leave no room for misinterpretation
- **Desired Output Format**: Explicitly state the desired output format in commands

## MCP PROTOCOL COMMAND COMPLIANCE

**MANDATORY MCP REQUIREMENTS FOR COMMAND CREATION:**

- **Metadata Structure**: Commands must include valid `name`, `version`, `description` in `mcp_prompt`
- **Argument Schema**: Commands must define a complete and correct `arguments` schema
- **Message Structure**: Commands must use `system` and `user` roles correctly in `messages`
- **Execution Phases**: Commands must define clear `execution_phases` with `mandatory_actions`
- **Deliverables**: Commands must specify `final_deliverables` with `naming_convention` and `date_stamp_format`
- **Validation Criteria**: Commands must include `validation_criteria` for each phase

## COMMAND STRUCTURE VALIDATION

**MANDATORY COMMAND STRUCTURE REQUIREMENTS:**

1. **Command Organization:**
   - Logical command structure and organization
   - Clear command hierarchy and flow
   - Appropriate command complexity
   - Effective command structure
   - Maintainable command design

2. **Command Type Appropriateness:**
   - Appropriate command type for purpose
   - Clear command type responsibilities
   - Effective command type implementation
   - Consistent command type patterns
   - Scalable command type design

## MCP PROMPT YAML CREATION

**MANDATORY MCP PROMPT YAML REQUIREMENTS:**

1. **YAML Structure:**
   - Proper MCP prompt metadata
   - Complete argument schema definitions
   - Compliant message structure
   - Clear execution phase definitions
   - Specific deliverable specifications

2. **Argument Validation:**
   - Complete argument schema definitions
   - Appropriate argument types and constraints
   - Clear argument descriptions
   - Valid argument validation rules
   - Proper argument requirements

3. **Message Structure:**
   - Appropriate message roles and content
   - Clear message organization
   - Effective message flow
   - Proper message formatting
   - Complete message content

## COMMAND DOCUMENTATION STANDARDS

**MANDATORY COMMAND DOCUMENTATION REQUIREMENTS:**

1. **Documentation Completeness:**
   - Complete command documentation coverage
   - Detailed command sections
   - Comprehensive command examples
   - Thorough command explanations
   - Complete command references

2. **Documentation Clarity:**
   - Clear command documentation language
   - Unambiguous command instructions
   - Specific command examples
   - Clear command structure
   - Effective command organization

3. **Documentation Accuracy:**
   - Accurate command information
   - Current command information
   - Valid command examples
   - Correct command references
   - Precise command instructions

## COMMAND REFERENCE VALIDATION

**MANDATORY COMMAND REFERENCE REQUIREMENTS:**

1. **Reference Validity:**
   - All command references must exist and be accessible
   - No broken or non-existent command references allowed
   - Command parameters must be consistent and valid
   - Workflow continuity must be maintained
   - Navigation structure must be complete

2. **Relationship Mapping:**
   - Clear command relationships and dependencies
   - Logical command flow and progression
   - Appropriate command sequencing
   - Complete workflow coverage
   - Effective command navigation

## DELIVERABLE SPECIFICATION VALIDATION

**MANDATORY DELIVERABLE SPECIFICATION REQUIREMENTS:**

1. **Realistic Deliverables:**
   - Deliverable counts must be realistic (2-3 per command maximum)
   - No excessive deliverable specifications (10+ per command forbidden)
   - Appropriate deliverable types for command purpose
   - Realistic deliverable complexity and scope
   - Achievable deliverable timelines

2. **Deliverable Appropriateness:**
   - Appropriate deliverable types for command type
   - Realistic deliverable complexity
   - Achievable deliverable scope
   - Appropriate deliverable timelines
   - Effective deliverable organization

## QUICKSTART DOCUMENTATION CREATION

**MANDATORY QUICKSTART DOCUMENTATION REQUIREMENTS:**

1. **Quickstart Completeness:**
   - Complete quickstart documentation
   - Detailed step-by-step instructions
   - Comprehensive command examples
   - Thorough troubleshooting guides
   - Complete prerequisite information

2. **Quickstart Clarity:**
   - Clear quickstart language
   - Unambiguous quickstart instructions
   - Specific quickstart examples
   - Clear quickstart structure
   - Effective quickstart organization

## LIFECYCLE MANAGEMENT INTEGRATION

**MANDATORY LIFECYCLE MANAGEMENT REQUIREMENTS:**

1. **Lifecycle Completeness:**
   - Complete lifecycle management procedures
   - Detailed environment promotion workflows
   - Comprehensive scaling and performance management
   - Thorough backup and recovery procedures
   - Complete monitoring and alerting setup

2. **Lifecycle Effectiveness:**
   - Effective lifecycle management procedures
   - Clear environment promotion workflows
   - Appropriate scaling and performance management
   - Reliable backup and recovery procedures
   - Comprehensive monitoring and alerting setup

## TERRAFORM INFRASTRUCTURE INTEGRATION

**MANDATORY TERRAFORM INFRASTRUCTURE REQUIREMENTS:**

1. **Terraform Completeness:**
   - Complete Terraform infrastructure patterns
   - Detailed environment-specific configurations
   - Comprehensive platform-specific modules
   - Thorough state management setup
   - Complete variable and secrets management

2. **Terraform Effectiveness:**
   - Effective Terraform infrastructure patterns
   - Clear environment-specific configurations
   - Appropriate platform-specific modules
   - Reliable state management setup
   - Secure variable and secrets management

## FORBIDDEN PRACTICES

**FORBIDDEN PRACTICES IN COMMAND CREATION:**

- Vague or ambiguous command instructions
- Missing role definition for the AI
- Lack of clear success criteria
- Absence of safety guardrails
- Overly complex or convoluted command structure
- Inconsistent terminology or formatting
- Missing mandatory MCP sections
- Hardcoded values instead of arguments
- Commands that promote unethical or biased behavior

**ABSOLUTELY FORBIDDEN - NO EXCEPTIONS:**

- **NO MOCKING** of data or services in command creation
- **NO TODOs** - complete ALL command creation immediately
- **NO SHORTCUTS** - implement commands properly ALWAYS
- **NO STUBS** - write complete command implementations
- **NO FIXED DATA** - use real, dynamic data in command examples
- **NO HARDCODED VALUES** - use configuration or arguments in commands
- **NO WORKAROUNDS** - fix root causes in command design
- **NO FAKE IMPLEMENTATIONS** - real command code only
- **NO PLACEHOLDER COMMANDS** - production-ready commands only
- **NO TEMPORARY SOLUTIONS** - permanent command fixes only
- **NO VIOLATIONS** of Anthropic's safety guidelines in commands
- **NO DEVIATIONS** from MCP protocol command structure

## RTFM (READ THE FUCKING MANUAL) - MANDATORY

**YOU MUST ALWAYS:**

1. **READ ANTHROPIC'S COMMAND CREATION GUIDES:**

   - Search for official Anthropic documentation on command creation
   - Read guides on designing effective and safe commands for Claude
   - Review best practices for role-playing, setting constraints, and providing context

2. **READ PUBLIC PROMPT ENGINEERING RESOURCES:**

   - Search for widely accepted prompt engineering frameworks and methodologies
   - Read articles and papers on advanced prompting techniques (e.g., CoT, few-shot)
   - Review community best practices for LLM interaction

3. **READ MCP PROTOCOL DOCUMENTATION:**
   - Study the Model Context Protocol specification thoroughly
   - Understand the structure, arguments, messages, and execution phases
   - Verify compliance requirements for all MCP components

**SEARCH PRIORITIES:**

- Official Anthropic Command Creation Documentation (latest version)
- Model Context Protocol (MCP) Specification
- Highly-cited academic papers on prompt engineering
- Industry-leading blogs and articles on LLM prompting
- Community best practices and examples

---

## **MCP PROMPT EXECUTION INSTRUCTIONS**

**MANDATORY PROTOCOL COMPLIANCE**: This is an MCP-compliant prompt that must be executed according to Model Context Protocol standards, with strict adherence to Anthropic and public command creation best practices.

### **COMMAND CREATION-ONLY MANDATE - CRITICAL DISTINCTION**

**THIS COMMAND IS FOR CLAUDE CODE CLI COMMAND CREATION ONLY:**

- **MUST:** Create new Claude Code CLI commands with proper structure
- **MUST:** Generate associated MCP prompt YAML files
- **MUST:** Validate command structure and organization
- **MUST:** Validate command references and relationships
- **MUST:** Create comprehensive command documentation
- **MUST:** Follow Anthropic best practices and standards
- **MUST:** Implement proper command navigation and workflow
- **MUST:** Ensure realistic deliverable specifications
- **FORBIDDEN:** Creating commands without proper structure validation
- **FORBIDDEN:** Skipping command reference validation
- **FORBIDDEN:** Creating incomplete or temporary commands
- **FORBIDDEN:** Deviating from Anthropic best practices

**COMMAND CREATION FOCUS:**

- Create new Claude Code CLI commands with proper structure
- Generate associated MCP prompt YAML files
- Validate command structure and organization
- Validate command references and relationships
- Create comprehensive command documentation
- Follow Anthropic best practices and standards
- Implement proper command navigation and workflow
- Ensure realistic deliverable specifications

### **EXECUTION SEQUENCE:**

1. **LOAD MCP PROMPT**: Execute the MCP prompt defined in `deployments-claude-code-write-prompt.yaml`
2. **PROVIDE ARGUMENTS**: Supply required arguments for `command_name`, `command_type`, `target_directory`, etc.
3. **FOLLOW PROTOCOL**: Execute all 10 phases according to the command creation protocol specifications
4. **VERIFY COMPLIANCE**: Ensure strict adherence to Anthropic, public, and MCP command standards
5. **VALIDATE COMPLETION**: Ensure all command creation objectives and outcomes have been met
6. **DOCUMENT RESULTS**: Create comprehensive Claude Code CLI command creation documentation

### **MCP PROMPT INVOCATION:**

```yaml
# Use this MCP prompt with required arguments:
prompt_name: "claude-code-write-prompt"
arguments:
  command_name: "[name-of-command-to-create]"
  command_type: "[deployment|planning|architecture|implementation|review|analysis|documentation|testing|security|monitoring]"
  target_directory: "[optional: target directory, default: .claude/commands]"
  command_purpose: "[description of command purpose]"
  command_scope: "[optional: comprehensive|focused|specialized|general, default: comprehensive]"
  related_commands: "[optional: array of related commands]"
  deliverable_count: "[optional: 1-5, default: 3]"
  include_quickstart: "[optional: true/false, default: true]"
  include_lifecycle: "[optional: true/false, default: true]"
  include_terraform: "[optional: true/false, default: true]"
```

### **SUCCESS CRITERIA:**

- [ ] MCP prompt executed with proper arguments and date stamps
- [ ] All 10 command creation phases completed according to protocol with timestamp tracking
- [ ] Comprehensive command structure validation completed
- [ ] MCP prompt YAML file created and validated
- [ ] Command documentation created and validated
- [ ] Command references validated and relationships mapped
- [ ] Deliverable specifications validated and realistic
- [ ] Quickstart documentation created and validated
- [ ] Lifecycle management integration implemented
- [ ] Terraform infrastructure integration implemented
- [ ] All command creation deliverables produced as specified with proper timestamps
- [ ] Command creation report is comprehensive, clear, and accurate

### **MANDATORY DATE STAMP REQUIREMENTS:**

**ALL COMMAND CREATION OUTPUT FILES MUST USE REVERSE DATE STAMP FORMAT: YYYY-MM-DD-HHMMSS**

- [ ] All command creation reports (.md) have reverse date stamps in filenames
- [ ] All command structure validation reports include precise timestamps
- [ ] All MCP prompt YAML creation reports include timestamp documentation
- [ ] All command documentation creation reports include proper date stamps
- [ ] All command reference validation reports include proper date stamps
- [ ] All deliverable specification validation reports include proper date stamps
- [ ] All quickstart documentation creation reports follow consistent date stamp format
- [ ] All lifecycle management integration reports include proper date stamps
- [ ] All terraform infrastructure integration reports follow consistent date stamp format
- [ ] UTC time used for all timestamp operations

**FORBIDDEN:**

- Creating command files without proper reverse date stamps
- Using inconsistent date formats within same command creation session
- Missing timestamps in command creation documentation
- Over-complicated timestamp tracking for command creation

---

**ENFORCEMENT:** This command performs CLAUDE CODE CLI COMMAND CREATION ONLY through the MCP prompt protocol. The comprehensive command creation logic is defined in `deployments-claude-code-write-prompt.yaml` and executed according to Model Context Protocol standards. Focus on creating new commands with proper structure, associated MCP prompt YAML files, comprehensive documentation, and proper validation with timestamp documentation and reverse date stamp requirements.
